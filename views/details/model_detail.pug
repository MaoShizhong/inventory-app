extends ../details 

block inStockList 
    each instrument in instrumentsInStock 
        -
            const price = instrument.condition === 'Refurbished' ? instrument.model.basePrice * 0.85 : instrument.model.basePrice;
            const priceAsCurrency = price.toLocaleString('en-GB', {style: 'currency', currency: 'GBP'});

        a(href=instrument.url class="hover:bg-slate-200 w-[85vw] sm:max-w-xs")
            button(class="w-full h-full p-2 border rounded-lg border-slate-500")
                p #[strong Manufacturer:] #{instrument.model.manufacturer.name}
                p #[strong Condition:] #{instrument.condition}
                if instrument.colour 
                    p #[strong Colour:] #{instrument.colour}
                if instrument.material
                    p #[strong Material:] #{instrument.material}
                p #[strong Price:] #{priceAsCurrency}
    else 
        p(class="text-center col-span-full") None of these instruments currently in stock!