extends ../layout 

block content 
    main(class="flex flex-col items-center p-4")
        h1.text-3xl #[strong #{model.name}] - #{model.instrument.type}
        div 
            button.m-4: a Edit Model
            button.m-4: a Delete Model

        p.pb-2 #[strong In stock:]  #{instrumentsInStock.length}

        div(class="grid sm:grid-cols-2 lg:grid-cols-3 2xl:grid-cols-4  gap-4")
            each instrument in instrumentsInStock 
                -
                    const price = instrument.condition === 'Refurbished' ? instrument.model.basePrice * 0.85 : instrument.model.basePrice;
                    const priceAsCurrency = price.toLocaleString('en-GB', {style: 'currency', currency: 'GBP'});

                a(href=instrument.url class="hover:bg-slate-200 w-[85vw] sm:max-w-xs")
                    button(class="border border-slate-500 rounded-lg p-2 w-full h-full")
                        p #[strong Manufacturer:] #{instrument.model.manufacturer.name}
                        p #[strong Condition:] #{instrument.condition}
                        if instrument.colour 
                            p #[strong Colour:] #{instrument.colour}
                        if instrument.material
                            p #[strong Material:] #{instrument.material}
                        p #[strong Price:] #{priceAsCurrency}
            else 
                p.text-center None of these instruments currently in stock!
